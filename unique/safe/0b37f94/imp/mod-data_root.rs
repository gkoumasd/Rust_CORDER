# [doc = " Creates (if necessary) and returns path to **top-level** data directory"] # [doc = " for provided data type."] # [doc = ""] # [doc = " If the directory structure does not exist, this function will recursively"] # [doc = " create the full hierarchy. Therefore, a result of `Ok` guarantees that the"] # [doc = " returned path exists."] pub fn data_root (t : AppDataType) -> Result < PathBuf , AppDirsError > { let path = try ! (platform :: get_app_dir (t)) ; match fs :: create_dir_all (& path) { Ok (..) => Ok (path) , Err (e) => Err (e . into ()) , } }
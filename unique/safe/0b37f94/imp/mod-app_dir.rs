# [doc = " Creates (if necessary) and returns path to **app-specific** data"] # [doc = " **subdirectory** for provided data type and subdirectory path."] # [doc = ""] # [doc = " The `path` parameter should be a valid relative path separated by"] # [doc = " **forward slashes** (`/`)."] # [doc = ""] # [doc = " If the directory structure does not exist, this function will recursively"] # [doc = " create the full hierarchy. Therefore, a result of `Ok` guarantees that the"] # [doc = " returned path exists."] pub fn app_dir (t : AppDataType , app : & AppInfo , path : & str) -> Result < PathBuf , AppDirsError > { let path = try ! (get_app_dir (t , app , path)) ; match fs :: create_dir_all (& path) { Ok (..) => Ok (path) , Err (e) => Err (e . into ()) , } }